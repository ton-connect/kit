appId: org.ton.wallet
env:
    PASSWORD: 1111
    DAPP_URL: https://allure-test-runner.vercel.app/e2e
---
- launchApp

- runFlow:
    file: flows/unlock-wallet.yaml
    env:
        PASSWORD: ${PASSWORD}

- openLink:
    link: ${DAPP_URL}
    browser: true

- assertVisible:
    text: "Connect Wallet"
    enabled: true

- tapOn: "Connect Wallet"

- assertVisible:
    text: "Copy Link"

- tapOn: "Copy Link"

- launchApp:
    appId: org.ton.wallet
    stopApp: false

- tapOn:
    id: scan-button

- assertVisible:
    id: tonconnect-url

- tapOn:
    id: paste-button

- tapOn:
    id: tonconnect-process

- assertVisible:
    id: connect-approve
- tapOn:
    id: connect-approve

- openLink:
    link: ${DAPP_URL}
    browser: true
- assertNotVisible: "Connect Wallet"
